<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Crear Torneo — PadelFlow</title>
    <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="/assets/css/styles.css" />
    <link rel="stylesheet" href="/assets/css/dashboard.css" />
</head>

<body>
    <%- include('partials/admin_header') %>
        <div class="admin-shell">
            <%- include('partials/admin_sidebar') %>
                <div class="main flex-grow-1">
                    <main class="container-fluid p-4">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h1 class="h3 mb-0">Crear Nuevo Torneo</h1>
                        </div>

                        <div class="card shadow-sm mb-4">
                            <div class="card-body">
                                <form action="/admin/tournaments/create" method="POST">
                                    <div class="mb-3">
                                        <label for="name" class="form-label">Nombre del Torneo</label>
                                        <input type="text" class="form-control" id="name" name="name" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="description" class="form-label">Descripción</label>
                                        <textarea class="form-control" id="description" name="description" rows="3"></textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="type" class="form-label">Tipo de Torneo</label>
                                        <select class="form-select" id="type" name="type" required>
                                            <option value="">Selecciona un tipo</option>
                                            <option value="round-robin">Round Robin</option>
                                            <option value="elimination">Eliminación Directa</option>
                                            <option value="americana">Americana</option>
                                        </select>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="startDate" class="form-label">Fecha de Inicio</label>
                                            <input type="date" class="form-control" id="startDate" name="startDate" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="startTime" class="form-label">Hora de Inicio</label>
                                            <input type="time" class="form-control" id="startTime" name="startTime" required>
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <label for="endDate" class="form-label">Fecha de Fin</label>
                                            <input type="date" class="form-control" id="endDate" name="endDate" required>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="endTime" class="form-label">Hora de Fin</label>
                                            <input type="time" class="form-control" id="endTime" name="endTime" required>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="max_players" class="form-label">Máximo de Jugadores</label>
                                        <select class="form-select" id="max_players" name="max_players" required>
                                            <option value="2">2</option>
                                            <option value="4">4</option>
                                            <option value="8">8</option>
                                            <option value="16" selected>16</option>
                                            <option value="32">32</option>
                                            <option value="64">64</option>
                                            <option value="128">128</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="courtIds" class="form-label">Pistas Asociadas</label>
                                        <select class="form-select" id="courtIds" name="courtIds" multiple>
                                            <% courts.forEach(court => { %>
                                                <option value="<%= court.id %>"><%= court.name %></option>
                                            <% }); %>
                                        </select>
                                        <small class="form-text text-muted">Mantén Ctrl/Cmd para seleccionar múltiples pistas.</small>
                                    </div>
                                    <div class="mb-3">
                                        <label for="setting" class="form-label">Configuración Específica</label>
                                        <select class="form-select" id="setting" name="setting">
                                            <option value="">Ninguna</option>
                                            <option value="sets">Por Sets</option>
                                            <option value="games">Por Juegos</option>
                                        </select>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Crear Torneo</button>
                                    <a href="/admin/dashboard" class="btn btn-secondary">Cancelar</a>
                                </form>
                            </div>
                        </div>
                    </main>
                </div>
        </div>

        <script src="/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="/assets/js/main.js"></script>
</body>

</html>